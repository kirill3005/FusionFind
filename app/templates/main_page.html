<html><head><base href="https://www.fusionfind.com/">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FusionFind - Современный поиск по товарам</title>
  <style>
    :root {
      --primary-color: #FFDD2D; /* Changed from #34D399 to Tinkoff yellow */
      --primary-dark: #FCC521;  /* Changed from #059669 to darker yellow */
      --text-color: #1F2937;
      --bg-light: #FFFAE5;     /* Changed from #F0FDF4 to light yellow */
      --border-color: #E5E7EB;
    }
    
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Helvetica', Arial, sans-serif;
      background-color: white;
      color: var(--text-color);
    }

    .header {
      background-color: white;
      padding: 20px 0;
      border-bottom: 1px solid var(--border-color);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 100;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5em;
      font-weight: bold;
      color: #000000; /* Changed from var(--primary-dark) to black for better contrast with yellow */
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 30px;
      align-items: center;
    }

    .nav-link {
      text-decoration: none;
      color: var(--text-color);
      font-weight: 500;
    }

    .button {
      background-color: var(--primary-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }

    .button:hover {
      background-color: var(--primary-dark);
    }

    .hero {
      padding: 250px 0 180px;
      text-align: center;
      background: linear-gradient(to bottom, var(--bg-light), white);
    }

    .hero h1 {
      font-size: 4em;
      margin-bottom: 20px;
      color: var(--text-color);
    }

    .hero p {
      font-size: 1.2em;
      color: #666;
      margin-bottom: 40px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .features {
      padding: 80px 0;
      background: white;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 40px;
      margin-top: 60px;
    }

    .feature-card {
      text-align: center;
      padding: 30px;
    }

    .feature-icon {
      width: 60px;
      height: 60px;
      margin-bottom: 20px;
      fill: var(--primary-color);
    }

    .feature-card h3 {
      margin-bottom: 15px;
      font-size: 1.5em;
    }

    .feature-card p {
      color: #666;
      line-height: 1.6;
    }

    .auth-button {
      background-color: transparent;
      color: var(--text-color);
      border: 2px solid var(--primary-color);
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s ease;
      margin-left: 20px;
    }

    .auth-button:hover {
      background-color: var(--primary-color);
      color: white;
    }

    .chat-container {
      max-width: 800px;
      margin: 40px auto;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 60px;
    }

    .chat-title {
      text-align: center;
      margin-bottom: 20px;
      color: var(--text-color);
    }

    .chat-description {
      text-align: center;
      max-width: 600px;
      margin: 0 auto 30px;
      color: #666;
      line-height: 1.6;
    }

    .chat-messages {
      height: 400px;
      overflow-y: auto;
      padding: 20px;
      background-color: #f8f9fa;
    }

    .chat-input-container {
      display: flex;
      align-items: center;
      padding: 15px;
      background-color: white;
      border-top: 1px solid var(--border-color);
    }

    .chat-input {
      flex-grow: 1;
      padding: 12px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      margin-right: 10px;
      font-size: 14px;
    }

    .chat-controls {
      display: flex;
      gap: 10px;
    }

    .icon-button {
      background: none;
      border: none;
      padding: 8px;
      cursor: pointer;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s ease;
    }

    .icon-button:hover {
      background-color: #f3f4f6;
    }

    .icon-button svg {
      width: 24px;
      height: 24px;
      fill: #666;
    }

    .send-button svg {
      fill: var(--primary-color);
    }

    .message {
      padding: 10px;
      margin: 10px;
      border-radius: 8px;
      max-width: 80%;
    }

    .user-message {
      background-color: var(--primary-color);
      color: black;
      margin-left: auto;
      margin-right: 10px;
    }

    .bot-message {
      background-color: white;
      color: var(--text-color);
      margin-right: auto;
      margin-left: 10px;
      border: 1px solid var(--border-color);
    }

    #imagePreview {
      display: none;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    #currentImage {
      max-height: 60px;
      border-radius: 4px;
    }

    .message img {
      display: block;
      max-width: 200px;
      border-radius: 4px;
      margin-bottom: 8px;
    }

    @media (max-width: 768px) {
      .features-grid {
        grid-template-columns: 1fr;
      }
      
      .hero h1 {
        font-size: 2.8em;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a href="/" class="logo">FusionFind</a>
      <nav class="nav-links">
        <a href="/my" class="nav-link">Мои боты</a>
        <a href="/buy-tokens" class="nav-link">Купить токены</a>
        <a href="/my/bots/new" class="button">Создать бота</a>
        <a href="/login" class="auth-button">Войти / Регистрация</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <h1>Улучшенный поиск <br>для вашего магазина</h1>
        <p>FusionFind использует передовые алгоритмы для точного поиска товаров по вашей базе данных. Создайте поискового бота для вашего магазина всего за пару минут.</p>
        <a href="/my/bots/new" class="button">Создать бота</a>
      </div>
    </section>

    <section class="features container">
      <div class="features-grid">
        <div class="feature-card">
          <svg class="feature-icon" viewBox="0 0 24 24">
            <path d="M12 2L2 7v10l10 5 10-5V7L12 2zm0 18.5L4 16v-2l8 4 8-4v2l-8 4.5zm0-5l-8-4V8l8 4 8-4v3.5l-8 4z"/>
          </svg>
          <h3>Точный поиск</h3>
          <p>Находит релевантные товары даже при опечатках и неточных запросах</p>
        </div>
        <div class="feature-card">
          <svg class="feature-icon" viewBox="0 0 24 24">
            <path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"/>
          </svg>
          <h3>Быстрая интеграция</h3>
          <p>Простое подключение к вашей существующей базе данных товаров</p>
        </div>
        <div class="feature-card">
          <svg class="feature-icon" viewBox="0 0 24 24">
            <path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"/>
          </svg>
          <h3>Умные подсказки</h3>
          <p>Интеллектуальные рекомендации на основе поисковых запросов</p>
        </div>
      </div>
    </section>

    <section class="container">
      <h2 class="chat-title">Попробуйте демо-версию поискового бота</h2>
      <p class="chat-description">Этот тестовый чат демонстрирует работу поискового бота. Вы можете отправлять текстовые сообщения и изображения, чтобы увидеть, как работает наша система поиска товаров. Попробуйте описать товар своими словами или загрузить его фотографию.</p>
      <div class="chat-container">
        <div class="chat-messages" id="chatMessages">
          <!-- Messages will be added here dynamically -->
        </div>
        <div class="chat-input-container">
          <div id="imagePreview" style="display: none;">
            <img id="currentImage" style="display: none;">
            <button class="icon-button" onclick="removeImage()">
              <svg viewBox="0 0 24 24">
                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
              </svg>
            </button>
          </div>
          <input type="text" class="chat-input" placeholder="Введите сообщение..." id="messageInput">
          <div class="chat-controls">
            <input type="file" id="photoInput" accept="image/*" style="display: none">
            <button class="icon-button" onclick="document.getElementById('photoInput').click()">
              <svg viewBox="0 0 24 24">
                <path d="M13.5 9c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5zM19 18H5v-7h2.38l1.73-2h6.89l1.73 2H19v7zM21 6h-3.6l-1.73-2H8.33L6.6 6H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"/>
              </svg>
            </button>
            <button class="icon-button send-button" onclick="sendMessageWithImage()">
              <svg viewBox="0 0 24 24">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    async function sendMessage(image = null) {
      const input = document.getElementById('messageInput');
      const message = input.value.trim();
      const chatMessages = document.getElementById('chatMessages');

      if (message || image) {
        const messageElement = document.createElement('div');
        messageElement.classList.add('message', 'user-message');

        if (image) {
          const img = document.createElement('img');
          img.src = image;
          img.style.maxWidth = '200px';
          img.style.borderRadius = '4px';
          img.style.marginBottom = '8px';
          messageElement.appendChild(img);
        }

        if (message) {
          const textElement = document.createElement('div');
          textElement.textContent = message;
          messageElement.appendChild(textElement);
          input.value = '';
        }

        chatMessages.appendChild(messageElement);

        const botMessage = document.createElement('div');
        botMessage.classList.add('message', 'bot-message');
        botMessage.textContent = await getBotResponse(message, image);
        chatMessages.appendChild(botMessage);
        chatMessages.scrollTop = chatMessages.scrollHeight;

        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
    }

    async function getBotResponse(message, image) {
        const response = await fetch('http://api:8001/message', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
          body: JSON.stringify({api_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzM1ODIxNTIyfQ.ms-T2CU0_9BIYBRfApNoHFgMzKBhhtKlWftKyacBH_',
            db_token: 'MS1lNVZLRDgxcERPeFdPR3lBZFNEak9nPT0',
            conversation_id: '4',
            message: message,
          photo: image})
        });
        const result = await response.json();
        return result.response;;
    }

    window.onload = function() {
      const chatMessages = document.getElementById('chatMessages');
      
      const welcomeMessage = document.createElement('div');
      welcomeMessage.classList.add('message', 'bot-message');
      welcomeMessage.textContent = "Здравствуйте! Я поисковый бот FusionFind. Я помогу вам найти нужные товары. Просто опишите, что вы ищете, или загрузите фотографию товара.";
      chatMessages.appendChild(welcomeMessage);
      
      const exampleMessage = document.createElement('div');
      exampleMessage.classList.add('message', 'bot-message');
      exampleMessage.textContent = "Например, вы можете написать: 'Ищу синий свитер с воротником' или 'Нужны белые кроссовки размер 42'";
      chatMessages.appendChild(exampleMessage);
    }

    document.getElementById('photoInput').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('currentImage').src = e.target.result;
          document.getElementById('imagePreview').style.display = 'flex';
        }
        reader.readAsDataURL(file);
      }
    });

    function removeImage() {
      document.getElementById('currentImage').src = '';
      document.getElementById('imagePreview').style.display = 'none';
      document.getElementById('photoInput').value = '';
    }

    function sendMessageWithImage() {
      const imageSrc = document.getElementById('currentImage').src;
      sendMessage(imageSrc || null);
      if (imageSrc) {
        removeImage();
      }
    }
  </script>
</body></html>