# FusionFind


[![Status](https://img.shields.io/badge/status-active-brightgreen)](http://fusionfind.ru)
[![FastAPI](https://img.shields.io/badge/framework-FastAPI-009688)](https://fastapi.tiangolo.com/)
[![Docker](https://img.shields.io/badge/docker-supported-blue)](https://www.docker.com/)

FusionFind - это мощный инструмент для создания и управления шоппинг-ассистентами. Данный репозиторий содержит его исходный код

- **Сайт**: [http://fusionfind.ru](http://fusionfind.ru)

## 📋 Содержание
1. [Описание проекта](#описание-проекта)
2. [Основные функции](#основные-функции)
3. [Решение задачи на второй этап](#решение-задачи-на-второй-этап)
4. [Использование API](#использование-api)
5. [Файлы проекта](#файлы-проекта)

---

### Описание проекта

FusionFind — это сервис, который помогает пользователям создавать и кастомизировать под себя шоппинг-ассистентов, способных работать с текстом, изображениями и видеорядами.

---

### Основные функции

- Регистрация пользователей и подключение собственных баз данных.
- Поддержка мультимодального ввода (текст и изображения).
- Старт и ведение диалогов с шоппинг-ассистентом.
- Интеграция с внешними базами данных для расширенных функций поиска и рекомендаций.

---

### Решение задачи на второй этап

Решение вы можете найти по [ссылке](https://colab.research.google.com/drive/1nkoctujriopC2FYxGpYMYog1l2UOS688?usp=sharing). В нём реализован интерфейс (ввиде ячейки в jupyter notebook) для получения списка предметов одежды. Также данный метод применяется к подвыборке (5.1k примеров) датасета [fashion-products-small](https://huggingface.co/datasets/ceyda/fashion-products-small) и далее считаются метрики для оценки качества. 

### Использование API

#### 1. Регистрация и подключение базы данных

Зарегистрируйтесь на [FusionFind](http://fusionfind.ru) и подключите базу данных своих товаров. После регистрации и покупки токенов API будет доступен для использования.

#### 2. Начало нового диалога

Отправьте POST-запрос для старта нового диалога с шоппинг-ассистентом:

- **URL**: `http://api.fusionfind.ru/?apitoken=<Ваш токен пользователя>&db_token=<Токен базы данных>`
- **Метод**: POST

**Ответ при успешном запросе**:
```json
{
  "message": "OK",
  "conv_id": "<id диалога>"
}
```

#### 3. Отправка сообщения

Для отправки сообщения в текущем диалоге отправьте POST-запрос:

- **URL**: `http://api.fusionfind.ru/?apitoken=<Ваш токен пользователя>&db_token=<Токен базы данных>&conversation_id=<id диалога>`
- **Метод**: POST
- **Тело запроса**:
  ```json
  {
    "message": "<Текст сообщения от пользователя>",
    "photo": "<Фото, отправленное пользователем, если есть>"
  }
  ```
**Ответ при успешном запросе**:
```json
{
  "message": "OK",
  "response": "<Ответ модели>"
}
```
---

### Файлы проекта

- **Backend** основного сервиса на FastAPI расположен в папке `app`.
- **API** находится в `app/api`.
- Файлы для работы с **Docker** и **Nginx** расположены в корневой директории.
- Функции ассистента пока не подключены к бекенду и находятся в папке ml_models

